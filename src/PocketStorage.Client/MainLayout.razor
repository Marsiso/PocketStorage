@inherits LayoutComponentBase

@inject IStringLocalizer<Resource> Localizer

<MudThemeProvider IsDarkMode="true"/>
<MudDialogProvider/>
<MudSnackbarProvider/>

<PermitView Context="ParentAuthenticationState">
    <Authorized>
        <MudLayout>
            <MudAppBar Color="Color.Inherit">
                <MudButton Href="/" StartIcon="@Icons.Material.Rounded.RocketLaunch" IconSize="Size.Large" Color="Color.Inherit" Variant="Variant.Text">
                    <MudText Typo="Typo.h6" Inline="true">@Localizer["Common_AppName"]</MudText>
                </MudButton>
                <MudSpacer/>
                <MudStack Row="true" Spacing="6">
                    <CultureSelector/>
                    <Authenticator/>
                    <Avatar/>
                </MudStack>
            </MudAppBar>
            <MudMainContent>
                <MudContainer Class="pt-6">
                    @Body
                </MudContainer>
            </MudMainContent>
            <MudAppBar Bottom="true" Color="Color.Inherit">
                <MudSpacer/>
                <MudStack Row="true" Justify="Justify.Center" Spacing="6">
                    <MudButton Href="/" StartIcon="@Icons.Material.Rounded.Dashboard" IconSize="Size.Medium" Color="Color.Inherit" Variant="Variant.Text">
                        <MudText>@Localizer["Layout_MainLayout_HomeButton"]</MudText>
                    </MudButton>
                    <MudButton Href="/privacy" StartIcon="@Icons.Material.Rounded.PrivacyTip" IconSize="Size.Medium" Color="Color.Inherit" Variant="Variant.Text">
                        <MudText>@Localizer["Layout_MainLayout_PrivacyButton"]</MudText>
                    </MudButton>
                    <PermitView Permissions="Permission.ViewUsers">
                        <Authorized>
                            <MudButton Href="/user/claims" StartIcon="@Icons.Material.Rounded.Cookie" IconSize="Size.Medium" Color="Color.Inherit" Variant="Variant.Text">
                                <MudText>@Localizer["Layout_MainLayout_ClaimsButton"]</MudText>
                            </MudButton>
                        </Authorized>
                    </PermitView>
                </MudStack>
                <MudSpacer/>
            </MudAppBar>
        </MudLayout>
    </Authorized>
    <Authorizing>
        <MudSkeleton SkeletonType="SkeletonType.Rectangle" Width="100%" Height="75px" Class="mb-6 px-6"/>
        <MudStack Spacing="6" Class="pa-6">
            <MudSkeleton SkeletonType="SkeletonType.Rectangle" Width="100%" Height="50px"/>
            <MudSkeleton SkeletonType="SkeletonType.Rectangle" Width="100%" Height="50px"/>
            <MudSkeleton SkeletonType="SkeletonType.Rectangle" Width="100%" Height="125px"/>
            <MudSkeleton SkeletonType="SkeletonType.Rectangle" Width="100%" Height="250px"/>
        </MudStack>
    </Authorizing>
</PermitView>
